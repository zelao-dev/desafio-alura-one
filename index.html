<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">

		<meta name="viewport" content="width=device-width, initial-scale=1">

		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet">

		<link rel="stylesheet" type="text/css" href="style.css">

		<title>Challenge 01 - ONE</title>
	</head>
	<body>
		<img src="./images/logo.png" id="imagem-alura">
		
		<div class="text-entry">
			<textarea class="text-entry-input" type="text" placeholder="Digite seu texto"></textarea>

			<img src="./images/bi_exclamation-circle-fill.png" id="imagem-exclamacao" />
			<p class="info-erro">Apenas letras minúsculas e sem acento.</p>

			<button class="botao-azul" onclick="cripto()">Criptografar</button>
			<button class="botao-transparente" onclick="decripto()">Descriptografar</button>
		</div>

		<div id="resultado-container">
			<img src="./images/no-text.png" id="no-text-image">
			<p id="no-text-info">Nenhuma mensagem encontrada</p>
			<p id="no-text-info-help">Digite um texto que você deseja criptografar ou descriptografar.</p>
			<!--<p id="resultado-texto"></p>
			<button onclick="copiaTexto()">Copiar texto</button>-->
		</div>
	</body>
	<script type="text/javascript">
		function trocaContainerResultado() {
			document.getElementById("resultado-container").innerHTML = "<p id='resultado-texto'></p><button onclick='copiaTexto()'>Copiar texto</button>"

		}

		function cripto() {			
			var texto = document.querySelector("textarea").value;
			
			// se o input estiver vazio = RETURN 0
			if (texto == "") {
				alert("insira um texto!")
				return 0
			} 
			else {
				trocaContainerResultado()

				var textoCriptografado = texto.replaceAll("e","enter").replaceAll("i","imes").replaceAll("a","ai").replaceAll("o","ober").replaceAll("u","ufat")

				/*console.log(textoCriptografado)*/

				document.getElementById("resultado-texto").innerHTML = textoCriptografado
			
				return 0
			}	
		}


		function decripto() {		
			var texto = document.querySelector("textarea").value;
			/*console.log(texto)*/

			var textoCriptografado = texto.replaceAll("enter","e").replaceAll("imes","i").replaceAll("ai","a").replaceAll("ober","o").replaceAll("ufat","u")

			/*console.log(textoCriptografado)*/

			document.getElementById("resultado-texto").innerHTML = textoCriptografado
			
			return 0
		}

		

		function copiaTexto() {
			var textoCopiado = document.getElementById("resultado-texto").innerHTML
			navigator.clipboard.writeText(textoCopiado)

			return 0
		}
	</script>
</html>